!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vuxSearch=t():e.vuxSearch=t()}(this,function(){return function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(4);t.default={name:"search",mixins:[s.a],props:{required:{type:Boolean,default:!1},placeholder:String,cancelText:String,value:{type:String,default:""},results:{type:Array,default:function(){return[]}},autoFixed:{type:Boolean,default:!0},top:{type:String,default:"0px"},position:{type:String,default:"fixed"},autoScrollToTop:Boolean},created:function(){this.value&&(this.currentValue=this.value)},computed:{fixPosition:function(){return this.isFixed?"absolute"===this.position?"absolute":"fixed":"static"}},methods:{clear:function(){this.currentValue="",this.isFocus=!0,this.setFocus(),this.autoFixed&&!this.isFixed&&(this.isFixed=!0)},cancel:function(){this.isCancel=!0,this.currentValue="",this.isFixed=!1,this.$emit("on-cancel")},handleResultClick:function(e){this.$emit("result-click",e),this.$emit("on-result-click",e),this.isCancel=!0,this.isFixed=!1},touch:function(){this.isCancel=!1,this.autoFixed&&(this.isFixed=!0),this.$emit("on-touch")},setFocus:function(){this.$refs.input.focus()},setBlur:function(){this.$refs.input.blur()},onFocus:function(){this.isFocus=!0,this.$emit("on-focus"),this.touch()},onBlur:function(){this.isFocus=!1}},data:function(){return{currentValue:"",isCancel:!0,isFocus:!1,isFixed:!1}},watch:{isFixed:function(e){!0===e&&(this.setFocus(),this.isFocus=!0,this.autoScrollToTop&&setTimeout(function(){window.scrollTo(0,0)},150))},value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}}}},function(e,t){},function(e,t){e.exports=function(e,t,i,s,n){var r,o=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(r=e,o=e.default);var a="function"==typeof o?o.options:o;t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),s&&(a._scopeId=s);var c;if(n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},a._ssrRegister=c):i&&(c=i),c){var l=a.functional,d=l?a.render:a.beforeCreate;l?a.render=function(e,t){return c.call(t),d(e,t)}:a.beforeCreate=d?[].concat(d,c):[c]}return{esModule:r,exports:o,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-search-box",class:{"vux-search-fixed":e.isFixed},style:{top:e.isFixed?e.top:"",position:e.fixPosition}},[i("div",{staticClass:"weui-search-bar",class:{"weui-search-bar_focusing":!e.isCancel||e.currentValue}},[e._t("left"),e._v(" "),i("form",{staticClass:"weui-search-bar__form",attrs:{action:"."},on:{submit:function(t){t.preventDefault(),e.$emit("on-submit",e.value)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFixed&&e.autoFixed,expression:"!isFixed && autoFixed"}],staticClass:"vux-search-mask",on:{click:e.touch}}),e._v(" "),i("div",{staticClass:"weui-search-bar__box"},[i("i",{staticClass:"weui-icon-search"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-search-bar__input",attrs:{type:"search",id:"search_input_"+e.uuid,placeholder:e.placeholder,autocomplete:"off",required:e.required},domProps:{value:e.currentValue},on:{focus:e.onFocus,blur:e.onBlur,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:e.clear}})]),e._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!e.isFocus&&!e.value,expression:"!isFocus && !value"}],staticClass:"weui-search-bar__label",attrs:{for:"search_input_"+e.uuid}},[i("i",{staticClass:"weui-icon-search"}),e._v(" "),i("span",[e._v(e._s(e.placeholder||"搜索"))])])]),e._v(" "),i("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:"},on:{click:e.cancel}},[e._v(e._s(e.cancelText||"取消"))]),e._v(" "),e._t("right")],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isFixed,expression:"isFixed"}],staticClass:"weui-cells vux-search_show"},[e._t("default"),e._v(" "),e._l(e.results,function(t){return i("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(i){e.handleResultClick(t)}}},[i("div",{staticClass:"weui-cell__bd weui-cell_primary"},[i("p",[e._v(e._s(t.title))])])])})],2)])},staticRenderFns:[]}},function(e,t,i){"use strict";t.a={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}}},function(e,t,i){function s(e){i(1)}var n=i(2)(i(0),i(3),s,null,null);e.exports=n.exports}])});